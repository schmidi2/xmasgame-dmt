var game={data:{UGID:void 0,score:0,bestscore:0,globalbestscore:0,jacks:0,lives:3,seconds:60,rank:0,ranking:"",player:"PLAYER1",iid:0},onload:function(){return me.video.init("screen",1067,600,!0)?("#debug"===document.location.hash&&window.onReady(function(){me.plugin.register.defer(debugPanel,"debug")}),me.loader.onload=this.loaded.bind(this),me.loader.preload(game.resources),me.state.set(me.state.LOADING,new myLoadingScreen),me.state.change(me.state.LOADING),void 0):(alert("Your browser does not support HTML5 canvas."),void 0)},loaded:function(){me.state.set(me.state.MENU,new game.TitleScreen),me.state.set(me.state.PLAY,new game.PlayScreen),me.state.set(me.state.SCORE,new game.ScoreScreen),me.state.set(me.state.GAMEOVER,new game.GameoverScreen),me.state.transition("fade","#000000",250),me.entityPool.add("tilly",game.PlayerEntity),me.entityPool.add("SweetEntity",game.SweetEntity),me.entityPool.add("WalkingEnemy",game.WalkingEnemy),me.input.bindKey(me.input.KEY.LEFT,"left"),me.input.bindKey(me.input.KEY.RIGHT,"right"),me.input.bindKey(me.input.KEY.UP,"jump",!0),me.input.bindKey(me.input.KEY.SPACE,"jump",!0),me.input.bindTouch(me.input.KEY.SPACE,!0),me.debug.renderHitBox=!0,me.state.change(me.state.MENU)},timer:function(){return 0==game.data.seconds?(clearInterval(game.data.iid),$.ajax({type:"GET",url:"scores.php",data:{id:game.data.UGID,score:game.score2(game.data.score),end:"X"}}),game.data.UGID=void 0,me.state.change(me.state.GAMEOVER),void 0):(0<game.data.seconds&&game.data.seconds--,void 0)},score:function(){q=jQuery.ajaxSettings.flatOptions.t,10>q?q="000"+q:100>q?q="00"+q:1e3>q&&(q="0"+q),q+="";for(var b="",c=0;c<q.length;c++)b+=String.fromCharCode(q.charCodeAt(c)+59);return String.fromCharCode(Math.floor(10*Math.random())+107),String.fromCharCode(Math.floor(10*Math.random())+107)+String.fromCharCode(Math.floor(5*Math.random())+107)+"k"+b+String.fromCharCode(Math.floor(9*Math.random())+107)+String.fromCharCode(Math.floor(10*Math.random())+107)+String.fromCharCode(Math.floor(6*Math.random())+107)+String.fromCharCode(Math.floor(10*Math.random())+107)+"l"+String.fromCharCode(Math.floor(10*Math.random())+107)+String.fromCharCode(Math.floor(3*Math.random())+107)+String.fromCharCode(Math.floor(10*Math.random())+107)},score2:function(){q=jQuery.ajaxSettings.flatOptions.t,10>q?q="000"+q:100>q?q="00"+q:1e3>q&&(q="0"+q),q+="";for(var b="",c=0;c<q.length;c++)b+=String.fromCharCode(q.charCodeAt(c)+59);return String.fromCharCode(Math.floor(10*Math.random())+107),String.fromCharCode(Math.floor(10*Math.random())+107)+String.fromCharCode(Math.floor(5*Math.random())+107)+"k"+b+String.fromCharCode(Math.floor(9*Math.random())+107)+String.fromCharCode(Math.floor(10*Math.random())+107)+String.fromCharCode(Math.floor(6*Math.random())+107)+String.fromCharCode(Math.floor(10*Math.random())+107)+"k"+String.fromCharCode(Math.floor(10*Math.random())+107)+String.fromCharCode(Math.floor(3*Math.random())+107)+String.fromCharCode(Math.floor(10*Math.random())+107)}};me.LevelEntity=me.ObjectEntity.extend({init:function(a,b,c){this.parent(a,b,c),this.nextlevel=c.to,this.fade=c.fade,this.duration=c.duration,this.fading=!1,this.gotolevel=c.to},onFadeComplete:function(){me.levelDirector.loadLevel(this.gotolevel),me.game.viewport.fadeOut(this.fade,this.duration)},goTo:function(a){this.gotolevel=a||this.nextlevel,this.fade&&this.duration?this.fading||(this.fading=!0,me.game.viewport.fadeIn(this.fade,this.duration,this.onFadeComplete.bind(this))):me.levelDirector.loadLevel(this.gotolevel)},onCollision:function(a,b){b instanceof game.PlayerEntity&&this.goTo()}});