game.SweetEntity=me.CollectableEntity.extend({init:function(a,b,c){this.parent(a,b,c);var d=Math.floor(4*Math.random());this.renderable.anim={},this.renderable.addAnimation("sweet",[d]),this.renderable.setCurrentAnimation("sweet"),this.rotationDir=1,this.startTween(),this.pos.x+=8,this.z=4,me.game.sort()},startTween:function(){this.rotationDir=-1*this.rotationDir;var a=new me.Tween(this.pos).to({x:this.pos.x,y:this.pos.y- -15*this.rotationDir},200).onComplete(this.startTween.bind(this));a.easing(me.Tween.Easing.Linear.None),a.delay(100*Math.random()),a.start()},update:function(){return this.parent(),1==this.collidable&&(this.z=4),!0},onCollision:function(a,b){if(b instanceof game.PlayerEntity){$.ajaxSettings.flatOptions.t+=10;var c=new me.Tween(this.pos).to(me.game.viewport.localToWorld(me.game.viewport.width/2,-50),500).onComplete(this.endCollect.bind(this));c.easing(me.Tween.Easing.Quadratic.In),c.start(),this.z=10,this.collidable=!1}},endCollect:function(){game.data.score+=10,me.game.remove(this)}});