game.BlockEntity=me.ObjectEntity.extend({init:function(a,b,c){this.parent(a,b,c),this.updateColRect(28,8,0,75),this.isJack=c.isjack,this.enemyType=c.enemy,this.enemySheet=c.enemysheet,this.enemyWidth=c.enemywidth,this.enemyHeight=c.enemyheight,this.enemyWalkFrames=c.enemywalkframes,this.enemyDieFrames=c.enemydieframes,this.enemyHP=c.enemyhp,this.collidable=!0},update:function(){return this.parent(),!0},onCollision:function(a,b){if(a.y<0){var b;if(this.isJack)for(var c=0;3>c;c++){b=new game.JackEntity(this.pos.x,this.pos.y,{image:"jack",spritewidth:30,spriteheight:32,z:0});var d=new me.Tween(b.pos).to({x:b.pos.x-20+20*c,y:this.pos.y-(32+b.renderable.height/2)+(1==c?-20:0)},500).onComplete(function(){b.z=4}.bind(b));d.easing(me.Tween.Easing.Quadratic.Out),d.start(),b.z=4,me.game.add(b)}else if(this.enemySheet){b=new game.WalkingEnemy(this.pos.x,this.pos.y,{image:this.enemySheet,spritewidth:this.enemyWidth,spriteheight:this.enemyHeight,z:0,walkframes:this.enemyWalkFrames,dieframes:this.enemyDieFrames,hp:this.enemyHP});var d=new me.Tween(b.pos).to({y:this.pos.y-(50+b.renderable.height/2)},500).onComplete(function(){b.z=4,b.collidable=!0,b.spawning=!1,b.walkLeft=!1}.bind(b));d.easing(me.Tween.Easing.Quadratic.Out),d.start(),b.z=4,b.collidable=!1,b.spawning=!0,me.game.add(b)}else{b=new game.SweetEntity(this.pos.x,this.pos.y,{image:"sweets",spritewidth:48,spriteheight:48,z:0});var d=new me.Tween(b.pos).to({y:this.pos.y-(32+b.renderable.height/2)},500).onComplete(function(){b.z=4}.bind(b));d.easing(me.Tween.Easing.Quadratic.Out),d.start(),b.z=4,me.game.add(b)}me.game.remove(this)}}});