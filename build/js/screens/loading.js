myLoadingScreen=me.ScreenObject.extend({init:function(){this.parent(!0),this.invalidate=!1,this.handle=null},onResetEvent:function(){this.logo1=new me.Font("impact",32,"white","middle"),this.logo1.textBaseline="alphabetic",this.handle=me.event.subscribe(me.event.LOADER_PROGRESS,this.onProgressUpdate.bind(this)),this.loadPercent=0},onDestroyEvent:function(){this.logo1=null,this.handle&&(me.event.unsubscribe(this.handle),this.handle=null)},onProgressUpdate:function(a){this.loadPercent=a,this.invalidate=!0},update:function(){return this.invalidate===!0?(this.invalidate=!1,!0):!1},draw:function(a){var b=this.logo1.measureText(a,"loading...").width,c=(me.video.getWidth()-b)/2,d=me.video.getHeight()/2;me.video.clearSurface(a,"black"),this.logo1.draw(a,"loading...",c,d),c+=b,d+=this.logo1.measureText(a,"loading...").height/2;var e=Math.floor(300*this.loadPercent);a.strokeStyle="silver",a.strokeRect(me.video.getWidth()/2-150,d,300,6),a.fillStyle="#2046b7",a.fillRect(me.video.getWidth()/2-148,d+2,e-4,2)}});