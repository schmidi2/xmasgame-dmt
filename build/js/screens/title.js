game.TitleScreen=me.ScreenObject.extend({init:function(){this.parent(!0),this.bg=null,this.ts1=null,this.ts2=null,this.ts3=null},onResetEvent:function(){this.bg=me.loader.getImage("ts_bg"),me.input.bindKey(me.input.KEY.SPACE,"start",!0),me.input.bindTouch(me.input.KEY.SPACE,!0),this.ts1=new me.SpriteObject(16,20,me.loader.getImage("tuplogo")),this.ts2=new me.SpriteObject(me.game.viewport.width/2-250,-280,me.loader.getImage("ts2")),this.ts3=new me.SpriteObject(1067,380,me.loader.getImage("ts3")),this.startText=new game.TitleScreen.StartText(me.game.viewport.width/2,540),tween=new me.Tween(this.ts3.pos).to({x:600},500).onComplete(null),tween.easing(me.Tween.Easing.Quadratic.Out),tween.start(),tween=new me.Tween(this.ts2.pos).to({y:200},1e3).onComplete(null),tween.easing(me.Tween.Easing.Bounce.Out),tween.start(),this.textin(),$.get("scores.php?q=bestscore",function(a){game.data.bestscore=a},"text")},textin:function(){var a=new me.Tween(this.startText).to({textScale:.8},1e3).onComplete(this.textout.bind(this));a.easing(me.Tween.Easing.Quadratic.InOut),a.start()},textout:function(){var a=new me.Tween(this.startText).to({textScale:.9},1e3).onComplete(this.textin.bind(this));a.easing(me.Tween.Easing.Quadratic.InOut),a.start()},update:function(){return me.input.isKeyPressed("start")&&(game.data.seconds=60,game.data.UGID=Math.floor(1e10*Math.random()),game.data.iid=setInterval(game.timer,1e3),$.ajax({type:"GET",url:"scores.php",data:{id:game.data.UGID,start:"X"}}),me.state.change(me.state.PLAY),$.ajaxSettings.flatOptions.t=2999),this.startText.update(),!0},draw:function(a){a.drawImage(this.bg,0,0),this.ts2.draw(a),this.ts3.draw(a),this.ts1.draw(a),this.startText.draw(a)},onDestroyEvent:function(){me.input.bindKey(me.input.KEY.SPACE,"jump",!0),game.data.score=0,game.data.jacks=0,game.data.lives=3}}),game.TitleScreen.StartText=me.Renderable.extend({init:function(a,b){this.parent(new me.Vector2d(a,b),10,10),this.font=new me.BitmapFont("font",{x:32,y:32}),this.font.alignText="bottom",this.font.set("center",1),this.textScale=1,this.floating=!0},update:function(){return this.font.resize(this.textScale),!0},draw:function(a){this.font.draw(a,"SPIEL MIT -LEERTASTE- STARTEN",this.pos.x,this.pos.y)}});